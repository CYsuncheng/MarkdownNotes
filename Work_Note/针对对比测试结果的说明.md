# 针对对比测试结果的说明

## 1. 伴奏下载时间：

- Smule 的伴奏下载时间明显优于我们和全民k歌，其中一个重要的原因是因为，Smule 只下载伴奏文件。
- 唱吧除了伴奏之外，还需要下载“支持原唱和智能导唱”的原唱文件（比伴奏还要大，如追光者这首歌，伴奏是5.4M，但是原唱文件是9M），这也大大的增加了咱们的下载伴奏时长。
- 全民和咱们一样，也需要支持原唱，所以即使他的伴奏文件比咱们小，下载时间和咱们差不多。


## 2. 音频保存及上传时间：

- Smule 的音频保存时间，实际上他们并没有在本地做人声和伴奏及音效的合成。合成都放到了Server端，所以也可以解释，为什么他们的音频上传时间很快，他们的人声文件（m4a）只有1-2M左右的大小。
- 唱吧的音频保存时间，是把人声（pcm），伴奏（pcm），音效合成的时间，所以保存就需要更多时间，而生成的文件也要比 Smule 大的多，所以上传也要花费更多的时间。


## 3. 视频保存及上传时间：

- Smule 的视频保存时间，他们也没有在本地做合成， 分别上传了音频和视频文件，之后同样是Server端来做合成，因为他们的 mp4 文件需要上传，所以他们的视频异步上传时间明显长了很多。
- 唱吧视频保存时间，原因也是音频保存时间慢，在视频录制保存时， 生成音频文件的时间占到整个视频保存时间的90%左右。


## 4. 总结：

- 针对下载伴奏，可以将原唱文件的下载改为异步， 但是录制页面的原唱按钮，需要等到异步下载完成才能可以点击。
- 针对音频保存，可以适当优化音频特效的处理速度。根据之前测试的结果，音频保存时间中， 有2/3消耗在音频特效上面。
- 针对视频保存，也是需要优化音频保存时间。
- 针对上传时间，这个更多是策略的问题，如果同样大小的文件，上传速度基本一致。