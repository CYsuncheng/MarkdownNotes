# Java 继承，组合

> 继承是“is-a"的关系，组合是”has-a"的关系。

## 两者的优缺点

![](https://ws2.sinaimg.cn/large/006tNbRwly1fwsrmoqic2j317c0icwim.jpg)

### 如何选择
看到好多文章都会因为耦合的原因，建议优先使用组合，尽量少用继承。其实，个人觉得没有什么绝对的事情，使用那种方式，最终还是又当时的模式来决定，以下是我自己的理解：
1. 如果会用到多态的特性，那么选择继承的方式是很有必要的。
2. 如果考虑代码复用，我觉得还是要优先使用组合，因为继承很有可能造成耦合度过高，且破坏封装，导致后面改一个地方，影响过多。
3. 至于多层次的继承，更是要慎用，除非自己非常清楚架构设计。
4. 而且组合的扩展性也比继承好得多。

### 多态
> 程序中定义的引用变量所指向的具体类型和通过该引用变量发出的方法调用在编程时并不确定，而是在程序运行期间才确定，这种情况叫做多态。

简单理解就是，声明变量的类型是使用的是父类类型，但是，实际使用时，指向的是一个子类类型的实例，然后就可以调用子类的方法了。也就是所谓的**动态绑定**。

* 其实，在 Java 中所有对象都是多态的，因为任何一个对象都会有一个他们自己类型的和 Object 类的 IS-A 关系。
* 实现多态的方式除了继承外，还可以实现接口。

> 另外还有一种理解，是针对**重载**的，也叫编译时多态。也就是说这种多态再编译时已经确定好了。重载大家都知道，方法名相同而参数列表不同的一组方法就是重载。在调用这种重载的方法时，通过传入不同的参数最后得到不同的结果。

但是，就我自己的理解来说，多态应该是针对的类对象，而不是方法，但是也无所谓。

多态还涉及转型的概念，这里就不多说了，想了解的，自己去看就好了。